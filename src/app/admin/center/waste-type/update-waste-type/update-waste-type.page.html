<app-toolbar  *ngIf="loadedWasteType" title='{{ loadedWasteType.name }}' [backButton]="true" routePath="/admin/center/place-type"></app-toolbar>

<ion-content fullscreen *ngIf="loadedWasteType" >
  <ion-grid>
    <ion-row class="ion-justify-content-center">
      <ion-col size-md = "6" size-sm = "12" >
        <form [formGroup]="newWasteForm" (ngSubmit)="updateWasteType()">
          <ion-card class="ion-justify-content-center">
            <img [src]="loadedWasteType.icon" />
            <ion-card-header>
              <ion-item>
                <ion-label position="floating">Nombre del Tipo Residuo *</ion-label>
                <ion-input type = "text" required = "true" maxlength = "30" required = "true" formControlName="title" ></ion-input>
              </ion-item>
              <div *ngFor="let error of errorMessages.title">
                <ng-container *ngIf="title.hasError(error.type) && (title.dirty || title.touched)">
                  <small class="error-message">{{error.message}}</small>
                </ng-container>
              </div>
            </ion-card-header>
            <ion-card-content>
              <ion-item>
                <ion-label position="floating">Descripci√≥n del Tipo de Residuo *</ion-label>
                <ion-textarea type = "text" required = "true" formControlName="description" ></ion-textarea>
              </ion-item>
              <div *ngFor="let error of errorMessages.description">
                <ng-container *ngIf="description.hasError(error.type) && (description.dirty || description.touched)">
                  <small class="error-message">{{error.message}}</small>
                </ng-container>
              </div>
              <br>
              <ion-item>
                <ion-label position="floating">Url del Tipo de Residuo *</ion-label>
                <ion-input type = "url" required = "true"  formControlName="url" ></ion-input>
              </ion-item>
              <div *ngFor="let error of errorMessages.url">
                <ng-container *ngIf="url.hasError(error.type) && (url.dirty || url.touched)">
                  <small class="error-message">{{error.message}}</small>
                </ng-container>
              </div>         
            </ion-card-content>
            
            <ion-grid>
              <ion-row class="ion-justify-content-center">
                <ion-col class="ion-align-self-center" size-md = "4">
                  <ion-button [disabled]="!newWasteForm.valid" type="submit" expand="block">Registrar
                    <ion-icon name="checkmark-outline" ></ion-icon>
                  </ion-button>
                </ion-col>
                <ion-col class="ion-align-self-center" size-md = "4">
                    <ion-button expand = "block" color="danger" (click) = "cancelUpdate()">Cancelar
                      <ion-icon name="trash-outline"></ion-icon>
                    </ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card>
        </form>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
